<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Todo list</title>
    <base href="/todolist/" />
  </head>
  <style>
    * {
      font-family: cursive;
    }

    h1 {
      font-size: 5vw;
    }
    nav {
      position: absolute;
      top: -10px;
      right: 10px;
      text-align: center;
    }
    .new-task {
      font-size: 2vmax;
      margin-bottom: 10px;
    }
    input {
      width: 25vw;
      height: 30px;
      display: block;
    }

    button {
      margin-top: 10px;
    }

    .to-do-list {
      font-size: 3vw;
      max-width: 50%;
      margin-left: 30px;
    }

    .task-deletion::after {
      content: "\2716";
      color: red;
      margin-left: 5px;
      cursor: pointer;
      font-size: 0.8em;
    }
  </style>
  <body>
    <nav>
      <p class="new-task">New task:</p>
      <input class="task" type="text" placeholder="Enter new task here" />
      <button class="add-task-button">Add task</button>
    </nav>

    <div class="list-container">
      <h1>To do list:</h1>
      <ol class="to-do-list"></ol>
    </div>

    <script>
      const addTaskButton = document.querySelector(".add-task-button");
      const toDoList = document.querySelector(".to-do-list");

      addTaskButton.addEventListener("click", function () {
        const newTask = document.createElement("li");
        const taskValue = document.querySelector(".task").value;
        const createNewTask = document.createTextNode(taskValue);
        const taskDeletion = document.createElement("span");

        newTask.appendChild(createNewTask);
        newTask.appendChild(taskDeletion);
        toDoList.appendChild(newTask);
        taskDeletion.setAttribute("class", "task-deletion");
        taskDeletion.addEventListener("click", function () {
          newTask.remove();
        });

        // Zliczanie spacji
        const spaceCount = (taskValue.match(/ /g) || []).length;

        if (taskValue === "") {
          newTask.textContent = "Do nothing, just chill ;)";
          newTask.appendChild(taskDeletion);
        } else if (taskValue === " ") {
          newTask.textContent = "Do spacebar press...";
        } else if (taskValue === "  ") {
          newTask.textContent = "Do spacebar press twice...";
        } else if (taskValue === "   ") {
          newTask.textContent = "Do spacebar press three times...";
        } else if (taskValue == spaceCount.length > 3) {
          console.log("spaceCount = " + taskValue.length);
          newTask.textContent =
            "Do spacebar press " + taskValue.length + " timesðŸ’ª.";
        } else if ((taskValue == spaceCount.length) === 666) {
          newTask.textContent = "Go to church.";
        }
        newTask.appendChild(taskDeletion);
      });

      // Standardowe zadanie na liÅ›cie
      const defaultTask = document.createElement("li");
      const defaultTaskDeletion = document.createElement("span");
      const defaultTaskText = document.createTextNode(
        "Remove this task by clicking ->"
      );

      defaultTask.appendChild(defaultTaskText);
      toDoList.appendChild(defaultTask);
      defaultTaskDeletion.setAttribute("class", "task-deletion");
      defaultTask.appendChild(defaultTaskDeletion);
      defaultTaskDeletion.addEventListener("click", function () {
        defaultTask.remove();
      });

      // Kolejne standardowe zadanie na liÅ›cie
      const defaultTask2 = document.createElement("li");
      const defaultTask2Deletion = document.createElement("span");
      const defaultTask2Text = document.createTextNode(
        "Add your own tasks using the input in upper right corner."
      );

      defaultTask2.appendChild(defaultTask2Text);
      toDoList.appendChild(defaultTask2);
      defaultTask2Deletion.setAttribute("class", "task-deletion");
      defaultTask2.appendChild(defaultTask2Deletion);
      defaultTask2Deletion.addEventListener("click", function () {
        defaultTask2.remove();
      });

      // // 3  zadanie na liÅ›cie
      // const defaultTask3 = document.createElement("li");
      // const defaultTask3Deletion = document.createElement("span");
      // const defaultTask3Text = document.createTextNode(
      //   "Test, submodule dziaÅ‚a! mogÄ™ to usunÄ…Ä‡! :D->"
      // );

      // defaultTask3.appendChild(defaultTask3Text);
      // toDoList.appendChild(defaultTask3);
      // defaultTask3Deletion.setAttribute("class", "task-deletion");
      // defaultTask3.appendChild(defaultTask3Deletion);
      // defaultTask3Deletion.addEventListener("click", function () {
      //   defaultTask3.remove();
      // });
    </script>
  </body>
</html>
